domain: channels
description: "Communication channels across different platforms (Slack, Teams, etc.)"

schemas:
  sql:
    slack: "slack_channels"
  neo4j: "(:Channel)"
  elastic: "channel_index"

contexts:
  - messages
  - members
  - activity

sources:
  - database: slack
    table: slack_channels
    filters:
      is_archived: false
  - elastic: channel_index
    query_fields: [name, purpose, topic]

tools:
  - slack
  - teams

permissions:
  default: read
  roles:
    - member
    - admin
  scopes:
    member: "joined_channels_only"
    admin: "all_channels"

relationships:
  - domain: messages
    type: "has_many"
    foreign_key: "channel_id"
  - domain: person
    type: "has_many"
    through: "channel_members" 